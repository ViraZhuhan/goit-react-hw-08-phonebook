"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[698],{2698:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r=t(9434),s=function(e){return e.contacts},i=function(e){return e.contacts.isLoading},c=t(2791),o=t(8348),a=t(972),l=t(1016),d=t(1352),u=t(4087),x=t(6117),h=t(4224),f=t(5118),j=t(581),m=t(1211),p=t(1216),b=t(6982),v=t(1230),g=t(9327),C=t(5119),k=t(3329);function y(){var e=(0,r.I0)(),n=(0,r.v9)(s).contacts,t=(0,r.v9)((function(e){return e.filter})),i=(0,o.q)(),y=i.isOpen,z=i.onOpen,w=i.onClose,S=c.useRef();(0,c.useEffect)((function(){e((0,C.yF)())}),[e]);return(0,k.jsx)(a.U,{allowMultiple:!0,children:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(n){var t=n.name,r=n.number,s=n.id;return(0,k.jsxs)(l.Q,{children:[(0,k.jsxs)(d.K,{children:[(0,k.jsx)(u.xu,{as:"span",flex:"1",textAlign:"left",children:t}),(0,k.jsx)(x.X,{}),(0,k.jsx)(h.z,{onClick:z,colorScheme:"red",size:"md",children:(0,k.jsx)(g.p,{})}),(0,k.jsx)(f.a,{isOpen:y,leastDestructiveRef:S,onClose:w,children:(0,k.jsx)(j.Z,{children:(0,k.jsxs)(f._,{children:[(0,k.jsx)(m.x,{fontSize:"lg",fontWeight:"bold",children:"Delete contact"}),(0,k.jsx)(p.f,{children:"Are you sure? You can't undo this action afterwards."}),(0,k.jsxs)(b.m,{children:[(0,k.jsx)(h.z,{ref:S,onClick:w,children:"Cancel"}),(0,k.jsx)(h.z,{colorScheme:"red",onClick:function(){return function(n){e((0,C.GK)(n)),w()}(s)},ml:3,children:"Delete"})]})]})})})]}),(0,k.jsx)(v.H,{pb:6,children:r})]},s)}))})}var z=t(9439),w=t(5984),S=t(5218),_=t(176),R=t(9975),Z=t(3182),F=t(7970),q=t(311),A=t(7806),I=t(5442),L=t(8652),O=t(8656),B=t(4324),D=t(9229),E=function(e){var n=e.title;return(0,k.jsx)(D.x,{as:"b",fontSize:"2xl",color:"gray.600",children:n})};function K(){var e=(0,o.q)(),n=e.isOpen,t=e.onOpen,i=e.onClose,a=c.useRef(null),l=c.useRef(null),d=(0,c.useState)(""),u=(0,z.Z)(d,2),x=u[0],f=u[1],b=(0,c.useState)(""),v=(0,z.Z)(b,2),g=v[0],y=v[1],D=(0,w.x0)(),K=(0,w.x0)(),M=(0,r.I0)(),P=(0,r.v9)(s).contacts,N=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":f(r);break;case"number":y(r);break;default:return}},W=function(){f(""),y("")};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(_.k,{gap:10,justify:"start",align:"end",mb:8,children:[(0,k.jsx)(E,{title:"My Contacts"}),(0,k.jsx)(h.z,{onClick:t,colorScheme:"messenger",children:(0,k.jsx)(L.d,{boxSize:4})})]}),(0,k.jsxs)(R.u_,{initialFocusRef:a,finalFocusRef:l,isOpen:n,onClose:i,size:"md",children:[(0,k.jsx)(j.Z,{}),(0,k.jsxs)(Z.h,{children:[(0,k.jsx)(m.x,{children:"Add contact"}),(0,k.jsx)(F.o,{}),(0,k.jsx)(p.f,{pb:6,children:(0,k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),P.find((function(e){return e.name.toLowerCase()===x.toLowerCase()}))?(0,S.ZP)("".concat(x," is already in contacts !"),{style:{borderRadius:"10px",background:"red",color:"#fff"}}):(M((0,C.uK)({id:(0,w.x0)(),name:x,number:g})),W(),i())},children:[(0,k.jsxs)(q.B,{mb:6,children:[(0,k.jsx)(A.Z,{pointerEvents:"none",children:(0,k.jsx)(B.Rl1,{color:"gray.300"})}),(0,k.jsx)(I.I,{size:"md",type:"text",name:"name",value:x,placeholder:"Name",onChange:N,id:D,pattern:"^[A-z-\u0410-\u044f\\s]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,k.jsxs)(q.B,{mb:6,children:[(0,k.jsx)(A.Z,{pointerEvents:"none",children:(0,k.jsx)(O.q,{})}),(0,k.jsx)(I.I,{type:"tel",placeholder:"Phone number",size:"md",name:"number",value:g,onChange:N,id:K,pattern:"^\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,k.jsxs)(_.k,{justify:"flex-end",gap:6,children:[(0,k.jsx)(h.z,{type:"submit",colorScheme:"messenger",size:"md",children:"Save"}),(0,k.jsx)(h.z,{onClick:i,children:"Cancel"})]})]})})]})]})]})}var M=t(745),P=t(5496),N=function(){var e=(0,r.I0)(),n=(0,r.v9)((function(e){return e.filter})).filter;return(0,k.jsxs)(q.B,{mb:"8",children:[(0,k.jsx)(A.Z,{pointerEvents:"none",children:(0,k.jsx)(M.W,{})}),(0,k.jsx)(I.I,{type:"text",onChange:function(n){e((0,P.x)(n.target.value.toLowerCase()))},value:n,name:"filter",placeholder:"Find contacts by name"})]})};function W(){var e=(0,r.v9)(i);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(K,{}),(0,k.jsx)("div",{children:e&&"Request in progress..."}),(0,k.jsx)(N,{}),(0,k.jsx)(y,{})]})}}}]);
//# sourceMappingURL=698.64c55fc8.chunk.js.map